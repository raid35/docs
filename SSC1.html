<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📺 مشغل القنوات المباشرة</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.6/shaka-player.compiled.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; background-color: #121212; color: white; text-align: center; margin: 0; }
        .container { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; padding: 20px; }
        .channel { width: 220px; background: #222; padding: 12px; border-radius: 12px; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 8px rgba(255, 255, 255, 0.1); }
        .channel:hover { background: #333; transform: scale(1.08); }
        .channel img { width: 180px; height: auto; border-radius: 8px; }
        .channel p { margin: 10px 0 0; font-size: 18px; font-weight: bold; }
        .video-container { display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: black; align-items: center; justify-content: center; z-index: 1000; flex-direction: column; }
        .video-container.active { display: flex; }
        video { width: 100%; height: 100%; object-fit: cover; }
    </style>
</head>
<body>
    <h1>📺SSC قنوات</h1>
    <div class="container" id="channels"></div>
    <div class="video-container" id="videoContainer">
        <video id="videoPlayer" autoplay></video>
    </div>
    <script>
        const channels = [
            { name: "SSC 1", logo: "https://iili.io/JhkQEp1.png", url: "https://ssc-1-enc.edgenextcdn.net/out/v1/c696e4819b55414388a1a487e8a45ca1/index.mpd", license: "d84c325f36814f39bbe59080272b10c3:550727de4c96ef1ecff874905493580f" },
            { name: "SSC 2", logo: "https://iili.io/JhkQMTF.png", url: "https://ssc-2-enc.edgenextcdn.net/out/v1/a16db2ec338a445a82d9c541cc9293f9/index.mpd", license: "8bcfc55359e24bd7ad1c5560a96ddd3c:b5dcf721ab522af92a9d3bf0bd55b596" },
            { name: "SSC 3", logo: "https://iili.io/JhkQVhg.png", url: "https://ssc-3-enc.edgenextcdn.net/out/v1/42e86125555242aaa2a12056832e7814/index.mpd", license: "7de5dd08ad8041d586c2f16ccc9490a1:5e1503f3398b34f5099933fedab847ef" },
            { name: "SSC 4", logo: "https://iili.io/JhkQWQa.png", url: "enc.edgenextcdn.net/out/v1/5267ea5772874b0db24559d643eaad93/index.mpd", license: "5c672f6b85a94638872d0214f7806ed4:bf8756fbb866ee2d5c701c2289dd8de3" },
            { name: "SSC 5", logo: "https://iili.io/JhkLw57.png", url: "https://ssc-5-enc.edgenextcdn.net/out/v1/99289eac5a7b4319905da595afbd792b/index.mpd", license: "c88b512b17ab4f6cb09eb0ff4a1056ed:adc08ee1c20a734972a55c9aebbd1888" },
            { name: "SSC Extra 1", logo: "https://iili.io/JhkLjJS.png", url: "https://ssc-extra-1-enc.edgenextcdn.net/out/v1/647c58693f1d46af92bd7e69f17912cb/index.mpd", license: "ecbc9e6fe6b145efb6658fb5cf7427f8:03c17e28911f71221acbc0b11f900401" },
            { name: "SSC Extra 2", logo: "https://iili.io/JhkLXg2.png", url: "https://ssc-extra-2-enc.edgenextcdn.net/out/v1/8b70de2b70d447ba8a7450ba90926a2d/index.mpd", license: "4d89249bd4ca4ebc9e70443265f9507d:cf074ffd2646c9c2f8513b47fa57bc30" },
            { name: "SSC Extra 3", logo: "https://iili.io/JhkLW0l.png", url: "https://ssc-extra3-enc.edgenextcdn.net/out/v1/8f1c6c3f05ef4284a64b342891bd85ae/index.mpd", license: "98cfd6fd4812497fb24dc75f7545f2ee:d3006ee69e77b25939728ebf30d3180a" }
        ];
        
        const container = document.getElementById("channels");
        const videoContainer = document.getElementById("videoContainer");
        const videoElement = document.getElementById("videoPlayer");
        let player = new shaka.Player(videoElement);
        let currentChannelIndex = 0;
        
        function initPlayer(index) {
            currentChannelIndex = index;
            let channel = channels[index];
            player.configure({
                drm: { clearKeys: { [channel.license.split(":")[0]]: channel.license.split(":")[1] } }
            });
            player.load(channel.url).then(() => {
                videoContainer.classList.add("active");
            }).catch(error => console.error("خطأ في تحميل الفيديو", error));
        }
        
        channels.forEach((channel, index) => {
            let div = document.createElement("div");
            div.classList.add("channel");
            div.innerHTML = `<img src="${channel.logo}" alt="${channel.name}"><p>${channel.name}</p>`;
            div.onclick = () => initPlayer(index);
            container.appendChild(div);
        });
        
        document.addEventListener("keydown", function(event) {
            if (event.key === "Escape") {
                videoContainer.classList.remove("active");
                videoElement.pause();
            } else if (event.key === "ArrowUp") {
                initPlayer((currentChannelIndex - 1 + channels.length) % channels.length);
            } else if (event.key === "ArrowDown") {
                initPlayer((currentChannelIndex + 1) % channels.length);
            }
        });
    </script>
</body>
</html>
