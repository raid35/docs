<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.5/shaka-player.compiled.js"></script>
    <style>
        body { margin: 0; background: #000; }
        video { width: 100%; height: 100vh; }
    </style>
</head>
<body>
    <video id="video" controls autoplay></video>

    <script>
        async function initPlayer() {
            const video = document.getElementById('video');
            const player = new shaka.Player(video);

            // إعدادات مفاتيح ClearKey بصيغة Hex التي يحتاجها المتصفح
            player.configure({
                drm: {
                    clearKeys: {
                        'b0478fd26424e88fa1e6478ee35d7f08': 'f5044242d8d224cae4087fd8ef654023',
                        '2275129f285677145e34eb8be249ae4a': '75055c6051d650c529627b1e626f530a',
                        '2eb72cb8d525719cdda3e1f5cc43b342': 'e0797e22865754872052015dda2905f7',
                        '0ad2dbd3aefe207034f24050ebc98cd1': '0b121fe769d0b1b45a3a6bb8c40e3405'
                    }
                }
            });

            try {
                // محاولة تشغيل الرابط
                await player.load('https://api-proxad.dc2.oqee.net/playlist/v1/live/973/1/live.mpd');
            } catch (e) {
                console.error('Error loading source', e);
            }
        }

        document.addEventListener('DOMContentLoaded', initPlayer);
    </script>
</body>
</html>
