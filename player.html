<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Smart TV Player Pro</title>
    <meta content="noindex, nofollow, noarchive" name="robots"/>
    <meta name="referrer" content="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="//ssl.p.jwpcdn.com/player/v/8.26.0/jwplayer.js"></script>
    <script>jwplayer.key = "XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo";</script>

    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background-color: black; overflow: hidden; }
        #jwplayerDiv { width: 100% !important; height: 100% !important; }
    </style>
</head>
<body>

    <div id="jwplayerDiv"></div>

    <script>
        // 1. نظام تزوير الهوية (لضمان اشتغال الروابط المحمية)
        (function() {
            var originalFetch = window.fetch;
            var originalXHR = window.XMLHttpRequest;
            var customUA = "Mozilla/5.0 (Smart-TV; Linux; Tizen 6.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 TV Safari/537.36";
            
            window.fetch = function(url, options) {
                options = options || {};
                options.headers = options.headers || {};
                options.headers['User-Agent'] = customUA;
                return originalFetch.call(this, url, options);
            };
            
            var XHROpen = originalXHR.prototype.open;
            originalXHR.prototype.open = function(method, url) {
                XHROpen.apply(this, arguments);
                this.setRequestHeader('User-Agent', customUA);
            };
        })();

        // 2. قاعدة بيانات القنوات الضخمة (المأخوذة من الكود الذي أرسلته)
        const channelList = {
            "SSC1": {
                url: "https://shahid-sports-1-enc.edgenextcdn.net/out/v1/0169cfa282614ebe97ef0201da87bb04/index.mpd",
                k1: "ab081a704aad41829b1123b09b6ecafd",
                k2: "dd51609092fff15e68b91debf5d591f9"
            },
            "USA": {
                url: "https://fastly-live.cdn.intigral-ott.net/HGTV/HGTV.isml/manifest.mpd",
                k1: "9692022f609d8b8fa2525048aaed26c3",
                k2: "42f4137b0a0f3ee9e52aeddb8a9544e1"
            },
            "ADSP1": {
                url: "https://sps1.starzplayarabia.com/out/v1/eee188845e9543699fd24e5a9890c6e2/index.mpd",
                k1: "b253c726c24c7c94a3ddf9b1907e2c76",
                k2: "097963d6ad73c3d712a104981de0ed42"
            },
            // يمكنك إضافة أي قناة أخرى من القائمة الطويلة بنفس الطريقة هنا
        };

        // 3. قراءة الـ ID من الرابط
        const urlParams = new URLSearchParams(window.location.search);
        const getID = urlParams.get('id');

        function setupPlayer(id) {
            const ch = channelList[id] || channelList["SSC1"]; // افتراضياً SSC1 إذا كان الـ ID خطأ
            
            const setupConfig = {
                file: ch.url,
                width: "100%",
                height: "100%",
                autostart: true,
                stretching: "fill"
            };

            // إضافة حماية DRM إذا وجدت المفاتيح
            if (ch.k1 && ch.k2) {
                setupConfig.drm = {
                    clearkey: {
                        keyId: ch.k1,
                        key: ch.k2
                    }
                };
            }

            jwplayer("jwplayerDiv").setup(setupConfig);
        }

        // تشغيل
        setupPlayer(getID);

        // منع التوقف
        jwplayer().on('pause', function() { jwplayer().play(); });
    </script>
</body>
</html>
